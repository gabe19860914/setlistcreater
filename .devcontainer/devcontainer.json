{
  "name": "Flutter Setlist Creator Dev",
  // Codespacesがベースとして使用するOSイメージを指定
  "image": "mcr.microsoft.com/devcontainers/base:ubuntu",

  // --- 変更点：ここから ---
  // "Features" を使って、FlutterとChromeを安全にインストールする
  "features": {
    // Flutterのインストールと設定を自動化する
    "ghcr.io/devcontainers/features/flutter:2": {
      "version": "latest"
    },
    // Google Chromeをインストールする
    "ghcr.io/devcontainers/features/chrome:1": {
      "version": "latest"
    }
  },
  // --- 変更点：ここまで ---

  // Codespacesが作成された後に、追加で実行されるコマンド（シンプルになりました）
  "postCreateCommand": "sudo apt-get update && sudo apt-get install -y nano",

  // VS codeにインストールを推奨する拡張機能
  "customizations": {
    "vscode": {
      "extensions": [
        "Dart-Code.flutter"
      ]
    }
  }
}